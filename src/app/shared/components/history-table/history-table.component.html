<table
  mat-table
  matSort
  (matSortChange)="this.announceSortChange.emit($event)"
  [dataSource]="data"
  class="mat-elevation-z1 table"
>
  <caption>
    Film rental history
  </caption>
  <!-- title -->
  <ng-container matColumnDef="title">
    <th
      mat-header-cell
      *matHeaderCellDef
      class="rf-text-center"
      role="columnheader"
      scope="col"
      mat-sort-header
      sortActionDescription="Sort by title"
    >
      Title
    </th>
    <td
      mat-cell
      class="rf-text-center rf-table-row"
      *matCellDef="let rent"
      [attr.aria-label]="'Title ' + rent.inventory.film.title"
    >
      <button
        mat-flat-button
        [attr.aria-label]="'Open ' + rent.inventory.film.title + ' info'"
        (click)="this.infoMovie.emit(rent)"
      >
        {{ rent.inventory.film.title }}
      </button>
    </td>
  </ng-container>

  <!-- rental_date -->

  <ng-container matColumnDef="rental_date">
    <th
      class="rf-text-center"
      mat-header-cell
      *matHeaderCellDef
      role="columnheader"
      scope="col"
      mat-sort-header
      sortActionDescription="Sort by rental date"
    >
      Rental date
    </th>
    <td
      class="rf-text-center rf-table-row"
      mat-cell
      *matCellDef="let rent"
      [attr.aria-label]="'Rental date ' + rent.rental_date"
    >
      {{ rent.rental_date | date : 'dd/MM/yyyy HH:MM' }}
    </td>
  </ng-container>

  <!-- return_date -->
  <ng-container matColumnDef="return_date">
    <th
      class="rf-text-center"
      mat-header-cell
      *matHeaderCellDef
      role="columnheader"
      scope="col"
      mat-sort-header
      sortActionDescription="Sort by return date"
    >
      Return date
    </th>
    <td
      class="rf-text-center rf-table-row"
      mat-cell
      *matCellDef="let rent"
      [attr.aria-label]="'Return date ' + rent.return_date"
    >
      {{ rent.return_date | date : 'dd/MM/yyyy HH:MM' }}
    </td>
  </ng-container>

  <!-- rental period -->
  <ng-container matColumnDef="rental_period">
    <th
      class="rf-text-center"
      mat-header-cell
      *matHeaderCellDef
      role="columnheader"
      scope="col"
      mat-sort-header
      sortActionDescription="Sort by rental period"
    >
      Rental period
    </th>
    <td
      class="rf-text-center rf-table-row"
      mat-cell
      *matCellDef="let rent"
      [attr.aria-label]="'Rental period ' + rent.rental_period"
    >
      {{ rent.rental_period + ' days' }}
    </td>
  </ng-container>

  <!-- address -->
  <ng-container matColumnDef="address">
    <th
      class="rf-text-center"
      mat-header-cell
      *matHeaderCellDef
      role="columnheader"
      scope="col"
      mat-sort-header
      sortActionDescription="Sort by address"
    >
      Address
    </th>
    <td
      class="rf-text-center rf-table-row"
      mat-cell
      *matCellDef="let rent"
      [attr.aria-label]="'Address ' + rent.inventory.store.address.address"
    >
      {{ rent.inventory.store.address.address }}
    </td>
  </ng-container>

  <!-- amount -->
  <ng-container matColumnDef="amount">
    <th
      class="rf-text-center"
      mat-header-cell
      *matHeaderCellDef
      role="columnheader"
      scope="col"
      mat-sort-header
      sortActionDescription="Sort by amount"
    >
      Amount
    </th>
    <td
      class="rf-text-center rf-table-row"
      mat-cell
      *matCellDef="let rent"
      [attr.aria-label]="'Amount ' + rent.payment.amount"
    >
      {{ (rent.payment.amount ? rent.payment.amount : '0') + ' â‚¬' }}
    </td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="columns"></tr>
  <tr mat-row *matRowDef="let row; columns: columns"></tr>
</table>
<mat-paginator
  class="mat-elevation-z1"
  [length]="this.total"
  [pageSize]="10"
  [pageSizeOptions]="[5, 10, 25, 50]"
  showFirstLastButtons
  (page)="this.nextPage.emit($event)"
  aria-label="Pagination Navigation"
></mat-paginator>
