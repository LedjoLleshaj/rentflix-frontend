<div class='rf-table-responsive'>
  <table
    mat-table
    [dataSource]='data'
    tabindex='0'
    class='mat-elevation-z1'
    aria-label='Available films in the store'
  >
    <caption>
      Available Films in the store
    </caption>
    <!-- title Column -->
    <ng-container matColumnDef='title' sticky>
      <th mat-header-cell *matHeaderCellDef class='rf-text-center' role='columnheader' scope='col'>Title</th>
      <td mat-cell class='rf-text-center' *matCellDef='let film' [attr.aria-label]="'Title ' + film.title">
        <button mat-stroked-button color='primary' [attr.aria-label]="'Open ' + film.title + ' info'"
                class='xl:w-2/3 w-full rf-text-center'
                [title]="'Open ' + film.title + ' info'"
                (click)='this.infoMovie.emit(film)'>
          {{ film.title }}
        </button>
      </td>
    </ng-container>

    <!-- year Column -->
    <ng-container matColumnDef='release_year'>
      <th class='rf-text-center' mat-header-cell *matHeaderCellDef role='columnheader' scope='col'>Year</th>
      <td
        mat-cell
        tabindex='0'
        *matCellDef='let film'
        [attr.aria-label]="film.title + ' was released in ' + film.release_year"
      >
        {{ film.release_year }}
      </td>
    </ng-container>

    <!-- rating Column -->
    <ng-container matColumnDef='rating'>
      <th class='rf-text-center' mat-header-cell *matHeaderCellDef role='columnheader' scope='col'>Rating</th>
      <td
        mat-cell
        tabindex='0'
        *matCellDef='let film'
        [attr.aria-label]="'Rating ' + film.rating"
      >
        {{ film.rating }}
      </td>
    </ng-container>

    <!-- category Column -->
    <ng-container matColumnDef='category'>
      <th class='rf-text-center' mat-header-cell *matHeaderCellDef role='columnheader' scope='col'>Category</th>
      <td
        mat-cell
        tabindex='0'
        *matCellDef='let film'
        [attr.aria-label]="'Category ' + film.category.name"
      >
        {{ film.category.name }}
      </td>
    </ng-container>

    <!-- language Column -->
    <ng-container matColumnDef='language'>
      <th class='rf-text-center' mat-header-cell *matHeaderCellDef role='columnheader' scope='col'>Language</th>
      <td
        mat-cell
        tabindex='0'
        *matCellDef='let film'
        [attr.aria-label]="'Language ' + film.language.name"
      >
        {{ film.language.name }}
      </td>
    </ng-container>

    <!-- rental_cost Column -->
    <ng-container matColumnDef='rental_rate'>
      <th class='rf-text-center' mat-header-cell *matHeaderCellDef role='columnheader' scope='col'>Rental cost</th>
      <td
        mat-cell
        tabindex='0'
        *matCellDef='let film'
        [attr.aria-label]="'Rental cost ' + film.rental_rate + ' €'"
      >
        {{ film.rental_rate + ' €' }}
      </td>
    </ng-container>

    <!-- rent movie button -->
    <ng-container matColumnDef='rent' sticky>
      <th class='rf-text-center' mat-header-cell *matHeaderCellDef role='columnheader' scope='col'>Rent a movie</th>
      <td
        mat-cell
        *matCellDef='let film'
        [attr.aria-label]="'Rent movie ' + film.title"
      >
        <button class='xl:w-2/3 w-full rf-text-center' mat-flat-button color='primary'
                (click)='this.rentMovie.emit(film)'>
          Rent
        </button>
      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef='columns'></tr>
    <tr mat-row *matRowDef='let row; columns: columns'></tr>
  </table>
</div>
<mat-paginator
  class='mat-elevation-z1 my-0.5'
  [length]='this.total'
  [pageSize]='10'
  [pageSizeOptions]='[5, 10, 25, 50]'
  showFirstLastButtons
  (page)='this.nextPage.emit($event)'
  aria-label='Pagination Navigation'
></mat-paginator>
